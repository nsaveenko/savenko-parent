<app-header></app-header>

<form class="form-signin mr-auto ml-auto newpost">
  <div class="text-center mb-4">
    <h1 class="h3 mb-3 font-weight-normal">New post</h1>
  </div>
  <form [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
    <div class="form-group">
      <div class="custom-file">
        <input formControlName="file" type="file" class="custom-file-input form-control" id="customFile" (change)="onFileSelected($event)" required>
        <label class="custom-file-label" for="customFile">{{selectedFile?.name}}</label>
      </div>
      <div class="form-label-group">
        <br>
        <input formControlName="caption" type="text" id="inputText" name="text" class="form-control"
               placeholder="Write a caption..."
               [ngClass]="{'is-invalid':form.get('caption').touched && form.get('caption').invalid}"
               [(ngModel)]="editablePost.text" required>
        <br>
      </div>
    </div>
  </form>
  <button type="button" class="btn btn-lg btn-primary btn-block" [disabled]="form.invalid" (click)="_addPost()">Share
  </button>
</form>
